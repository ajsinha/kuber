<!DOCTYPE html>
<!--
  ~ Copyright © 2025-2030, All Rights Reserved
  ~ Ashutosh Sinha | Email: ajsinha@gmail.com
  -->
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head('Aerospike Integration - ' + (${appName} ?: 'Kuber'))}"></head>
<body class="d-flex flex-column min-vh-100">

<nav th:replace="~{layout :: navbar}"></nav>

<main class="flex-fill">
    <div class="container-fluid py-4">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/help"><i class="fas fa-book me-1"></i>Help</a></li>
                <li class="breadcrumb-item active" aria-current="page">Aerospike Integration</li>
            </ol>
        </nav>
        
        <div class="row">
            <!-- Sidebar Navigation -->
            <div class="col-lg-3 mb-4">
                <div class="card shadow-sm sticky-top" style="top: 80px;">
                    <div class="card-header bg-warning text-dark">
                        <h6 class="mb-0"><i class="fas fa-list me-2"></i>Contents</h6>
                    </div>
                    <div class="list-group list-group-flush">
                        <a href="#overview" class="list-group-item list-group-item-action">1. Overview</a>
                        <a href="#architecture" class="list-group-item list-group-item-action">2. Architecture</a>
                        <a href="#data-model" class="list-group-item list-group-item-action">3. Data Model Mapping</a>
                        <a href="#prerequisites" class="list-group-item list-group-item-action">4. Prerequisites</a>
                        <a href="#configuration" class="list-group-item list-group-item-action">5. Configuration</a>
                        <a href="#ttl-handling" class="list-group-item list-group-item-action">6. TTL &amp; Expiration</a>
                        <a href="#performance" class="list-group-item list-group-item-action">7. Performance</a>
                        <a href="#cluster-setup" class="list-group-item list-group-item-action">8. Cluster Setup</a>
                        <a href="#monitoring" class="list-group-item list-group-item-action">9. Monitoring</a>
                        <a href="#troubleshooting" class="list-group-item list-group-item-action">10. Troubleshooting</a>
                        <a href="#best-practices" class="list-group-item list-group-item-action">11. Best Practices</a>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <div class="col-lg-9">
                <div class="card shadow-sm">
                    <div class="card-header bg-warning text-dark">
                        <h4 class="mb-0"><i class="fas fa-database me-2"></i>Aerospike Integration <span class="badge bg-dark">v1.9.0</span></h4>
                    </div>
                    <div class="card-body">
                        
                        <!-- Introduction Alert -->
                        <div class="alert alert-warning">
                            <i class="fas fa-bolt me-2"></i>
                            <strong>New in v1.9.0:</strong> Kuber now supports Aerospike as a persistence backend, 
                            providing sub-millisecond latency, native TTL support, and horizontal scalability 
                            for enterprise-grade deployments.
                        </div>
                        
                        <!-- Section 1: Overview -->
                        <h5 class="mt-4" id="overview"><i class="fas fa-info-circle me-2 text-primary"></i>1. Overview</h5>
                        <p>
                            Aerospike is a high-performance, distributed NoSQL database designed for applications 
                            that need predictable low latency at massive scale. When used as Kuber's persistence 
                            backend, it provides:
                        </p>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card border-success mb-3">
                                    <div class="card-header bg-success text-white">
                                        <i class="fas fa-check-circle me-2"></i>Key Benefits
                                    </div>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item"><i class="fas fa-bolt text-warning me-2"></i><strong>Sub-millisecond Latency</strong> - Flash/SSD optimized</li>
                                        <li class="list-group-item"><i class="fas fa-clock text-info me-2"></i><strong>Native TTL</strong> - Automatic record expiration</li>
                                        <li class="list-group-item"><i class="fas fa-expand-arrows-alt text-primary me-2"></i><strong>Horizontal Scale</strong> - Auto-sharding across nodes</li>
                                        <li class="list-group-item"><i class="fas fa-shield-alt text-success me-2"></i><strong>Strong Consistency</strong> - Immediate persistence</li>
                                        <li class="list-group-item"><i class="fas fa-layer-group text-secondary me-2"></i><strong>Hybrid Storage</strong> - Memory + SSD tiers</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card border-info mb-3">
                                    <div class="card-header bg-info text-white">
                                        <i class="fas fa-bullseye me-2"></i>Best Use Cases
                                    </div>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">High-throughput caching (100K+ ops/sec)</li>
                                        <li class="list-group-item">Session management at scale</li>
                                        <li class="list-group-item">Real-time data processing</li>
                                        <li class="list-group-item">Multi-datacenter deployments</li>
                                        <li class="list-group-item">IoT data ingestion</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section 2: Architecture -->
                        <h5 class="mt-4" id="architecture"><i class="fas fa-sitemap me-2 text-success"></i>2. Architecture</h5>
                        
<pre class="bg-dark text-light p-3 rounded" style="font-family: monospace; font-size: 0.85rem;">
┌─────────────────────────────────────────────────────────────────────────────┐
│                           KUBER + AEROSPIKE ARCHITECTURE                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│    ┌─────────────┐      ┌─────────────┐      ┌─────────────┐               │
│    │   Client    │      │   Client    │      │   Client    │               │
│    │  (Python)   │      │   (Java)    │      │   (REST)    │               │
│    └──────┬──────┘      └──────┬──────┘      └──────┬──────┘               │
│           │                    │                    │                       │
│           └────────────────────┼────────────────────┘                       │
│                                │                                            │
│                                ▼                                            │
│    ┌───────────────────────────────────────────────────────────────────┐   │
│    │                        KUBER SERVER                                │   │
│    │  ┌─────────────┐  ┌─────────────┐  ┌──────────────────────────┐   │   │
│    │  │ Redis Proto │  │  REST API   │  │   In-Memory Cache        │   │   │
│    │  │   Handler   │  │   Handler   │  │   + Secondary Indexes    │   │   │
│    │  └──────┬──────┘  └──────┬──────┘  └────────────┬─────────────┘   │   │
│    │         │                │                      │                  │   │
│    │         └────────────────┼──────────────────────┘                  │   │
│    │                          │                                         │   │
│    │                          ▼                                         │   │
│    │    ┌─────────────────────────────────────────────────────────┐    │   │
│    │    │           AEROSPIKE PERSISTENCE STORE                    │    │   │
│    │    │                                                          │    │   │
│    │    │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │    │   │
│    │    │   │ Regions Set │  │ Entries Set │  │ Batch Ops   │     │    │   │
│    │    │   │ (_kuber_    │  │ (per region)│  │ (efficient) │     │    │   │
│    │    │   │  regions)   │  │             │  │             │     │    │   │
│    │    │   └─────────────┘  └─────────────┘  └─────────────┘     │    │   │
│    │    │                                                          │    │   │
│    │    │   Native TTL ─────────────────────────── Auto Expiration │    │   │
│    │    └─────────────────────────────────────────────────────────┘    │   │
│    └───────────────────────────────────────────────────────────────────┘   │
│                                    │                                        │
│                                    ▼                                        │
│    ┌───────────────────────────────────────────────────────────────────┐   │
│    │                    AEROSPIKE CLUSTER                               │   │
│    │                                                                    │   │
│    │   ┌─────────┐      ┌─────────┐      ┌─────────┐                   │   │
│    │   │  Node 1 │◄────►│  Node 2 │◄────►│  Node 3 │                   │   │
│    │   │ (Master)│      │(Replica)│      │(Replica)│                   │   │
│    │   └────┬────┘      └────┬────┘      └────┬────┘                   │   │
│    │        │                │                │                         │   │
│    │   ┌────┴────┐      ┌────┴────┐      ┌────┴────┐                   │   │
│    │   │   SSD   │      │   SSD   │      │   SSD   │                   │   │
│    │   │ Storage │      │ Storage │      │ Storage │                   │   │
│    │   └─────────┘      └─────────┘      └─────────┘                   │   │
│    │                                                                    │   │
│    │   Namespace: "kuber"  │  Replication: 2  │  Auto-Sharding: ✓      │   │
│    └───────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
</pre>
                        
                        <!-- Section 3: Data Model Mapping -->
                        <h5 class="mt-4" id="data-model"><i class="fas fa-table me-2 text-info"></i>3. Data Model Mapping</h5>
                        <p>Kuber concepts map naturally to Aerospike's data model:</p>
                        
                        <table class="table table-bordered table-striped">
                            <thead class="table-dark">
                                <tr>
                                    <th>Kuber Concept</th>
                                    <th>Aerospike Concept</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Region</strong></td>
                                    <td><code>Set</code></td>
                                    <td>Each Kuber region becomes an Aerospike Set within the namespace</td>
                                </tr>
                                <tr>
                                    <td><strong>Cache Key</strong></td>
                                    <td><code>Record Key (PK)</code></td>
                                    <td>Direct mapping to Aerospike's primary key</td>
                                </tr>
                                <tr>
                                    <td><strong>JSON Value</strong></td>
                                    <td><code>"v" Bin (String)</code></td>
                                    <td>JSON stored as serialized string in the "v" bin</td>
                                </tr>
                                <tr>
                                    <td><strong>TTL</strong></td>
                                    <td><code>Record TTL</code></td>
                                    <td>Native Aerospike per-record expiration (perfect match!)</td>
                                </tr>
                                <tr>
                                    <td><strong>Region Metadata</strong></td>
                                    <td><code>"_kuber_regions" Set</code></td>
                                    <td>Special set storing region configurations</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h6>Record Structure (Bins)</h6>
<pre class="bg-light p-3 rounded"><code>Record in Aerospike:
  Key: "user:12345"                    ← Cache key
  Bins:
    ├── "v":  '{"name":"John",...}'    ← JSON value (String bin)
    └── "ct": 1706976000000            ← Created timestamp (Long bin)
  TTL: 3600 seconds                    ← Native record expiration</code></pre>
                        
                        <!-- Section 4: Prerequisites -->
                        <h5 class="mt-4" id="prerequisites"><i class="fas fa-tasks me-2 text-warning"></i>4. Prerequisites</h5>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Before configuring Kuber:</strong> You must have Aerospike server installed and 
                            a namespace configured. Kuber cannot create namespaces - they must be defined in 
                            <code>aerospike.conf</code>.
                        </div>
                        
                        <h6>Step 1: Install Aerospike</h6>
<pre class="bg-dark text-light p-3 rounded"><code># Ubuntu/Debian
wget -O aerospike.tgz 'https://download.aerospike.com/artifacts/aerospike-server-community/7.0.0/aerospike-server-community-7.0.0-ubuntu22.04.tgz'
tar -xvf aerospike.tgz
cd aerospike-server-community-*
sudo ./asinstall

# Start Aerospike
sudo systemctl start aerospike
sudo systemctl enable aerospike</code></pre>
                        
                        <h6>Step 2: Configure Namespace</h6>
                        <p>Edit <code>/etc/aerospike/aerospike.conf</code>:</p>
<pre class="bg-dark text-light p-3 rounded"><code>namespace kuber {
    replication-factor 2           # Number of copies
    memory-size 4G                 # RAM for index + data
    default-ttl 0                  # 0 = never expire (use Kuber TTL)
    
    # Option A: Memory-only (fastest, data lost on restart)
    storage-engine memory
    
    # Option B: SSD/Flash storage (persistent)
    # storage-engine device {
    #     file /opt/aerospike/data/kuber.dat
    #     filesize 16G
    #     data-in-memory true      # Keep data in RAM (fastest reads)
    # }
    
    # Option C: Hybrid (index in RAM, data on SSD)
    # storage-engine device {
    #     file /opt/aerospike/data/kuber.dat
    #     filesize 16G
    #     data-in-memory false     # Data on SSD only
    # }
}</code></pre>
                        
                        <h6>Step 3: Restart Aerospike</h6>
<pre class="bg-dark text-light p-3 rounded"><code>sudo systemctl restart aerospike

# Verify namespace is created
aql -c "show namespaces"
# Should show: kuber</code></pre>
                        
                        <!-- Section 5: Configuration -->
                        <h5 class="mt-4" id="configuration"><i class="fas fa-cog me-2 text-primary"></i>5. Configuration</h5>
                        
                        <h6>Basic Configuration</h6>
<pre class="bg-dark text-light p-3 rounded"><code># application.properties

# Enable Aerospike persistence
kuber.persistence.type=aerospike

# Cluster hosts (comma-separated for multiple nodes)
kuber.persistence.aerospike.hosts=localhost:3000

# Namespace (must exist in aerospike.conf)
kuber.persistence.aerospike.namespace=kuber</code></pre>
                        
                        <h6>Complete Configuration Reference</h6>
<pre class="bg-dark text-light p-3 rounded"><code># ==============================================================================
# Aerospike Persistence Configuration
# ==============================================================================

# Cluster connection
kuber.persistence.aerospike.hosts=localhost:3000
kuber.persistence.aerospike.namespace=kuber

# Authentication (if security enabled on Aerospike Enterprise)
kuber.persistence.aerospike.username=
kuber.persistence.aerospike.password=

# Connection tuning
kuber.persistence.aerospike.connection-timeout-ms=5000
kuber.persistence.aerospike.socket-timeout-ms=30000
kuber.persistence.aerospike.max-conns-per-node=300
kuber.persistence.aerospike.conn-pools-per-node=1

# Write policy
kuber.persistence.aerospike.send-key=true           # Store key with record
kuber.persistence.aerospike.commit-level=COMMIT_ALL # or COMMIT_MASTER

# Read policy
kuber.persistence.aerospike.replica=SEQUENCE        # or MASTER, RANDOM

# Default TTL (-1 = namespace default, -2 = never expire)
kuber.persistence.aerospike.default-ttl=-1</code></pre>
                        
                        <h6>Multi-Node Cluster Configuration</h6>
<pre class="bg-dark text-light p-3 rounded"><code># Connect to 3-node cluster
kuber.persistence.aerospike.hosts=aero1.example.com:3000,aero2.example.com:3000,aero3.example.com:3000

# Use stronger consistency
kuber.persistence.aerospike.commit-level=COMMIT_ALL
kuber.persistence.aerospike.replica=SEQUENCE</code></pre>
                        
                        <!-- Section 6: TTL Handling -->
                        <h5 class="mt-4" id="ttl-handling"><i class="fas fa-clock me-2 text-success"></i>6. TTL &amp; Expiration</h5>
                        
                        <div class="alert alert-success">
                            <i class="fas fa-magic me-2"></i>
                            <strong>Perfect Match!</strong> Aerospike's native per-record TTL is ideal for Kuber's 
                            cache expiration. Expired records are automatically removed - no cleanup needed!
                        </div>
                        
                        <h6>TTL Priority Order</h6>
                        <ol>
                            <li><strong>Entry-specific TTL</strong> - If <code>SETEX</code> or TTL is specified per entry</li>
                            <li><strong>Region default TTL</strong> - If region has a default TTL configured</li>
                            <li><strong>Aerospike default TTL</strong> - From <code>kuber.persistence.aerospike.default-ttl</code></li>
                            <li><strong>Namespace default TTL</strong> - From <code>aerospike.conf</code></li>
                        </ol>
                        
                        <h6>TTL Configuration Values</h6>
                        <table class="table table-bordered table-sm">
                            <thead class="table-dark">
                                <tr>
                                    <th>Value</th>
                                    <th>Meaning</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td><code>-1</code></td><td>Use namespace default TTL</td></tr>
                                <tr><td><code>-2</code></td><td>Never expire (if namespace allows)</td></tr>
                                <tr><td><code>0</code></td><td>Use namespace default TTL</td></tr>
                                <tr><td><code>&gt;0</code></td><td>Specific TTL in seconds</td></tr>
                            </tbody>
                        </table>
                        
                        <!-- Section 7: Performance -->
                        <h5 class="mt-4" id="performance"><i class="fas fa-tachometer-alt me-2 text-danger"></i>7. Performance</h5>
                        
                        <h6>Benchmark Comparison</h6>
                        <table class="table table-bordered">
                            <thead class="table-dark">
                                <tr>
                                    <th>Operation</th>
                                    <th>Aerospike</th>
                                    <th>RocksDB</th>
                                    <th>PostgreSQL</th>
                                    <th>MongoDB</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Single Read</td>
                                    <td class="table-success"><strong>&lt;1ms</strong></td>
                                    <td>~1-5ms</td>
                                    <td>~2-10ms</td>
                                    <td>~2-10ms</td>
                                </tr>
                                <tr>
                                    <td>Single Write</td>
                                    <td class="table-success"><strong>&lt;1ms</strong></td>
                                    <td>~1-5ms</td>
                                    <td>~5-20ms</td>
                                    <td>~2-15ms</td>
                                </tr>
                                <tr>
                                    <td>Batch Read (1000)</td>
                                    <td class="table-success"><strong>~5-10ms</strong></td>
                                    <td>~20-50ms</td>
                                    <td>~50-100ms</td>
                                    <td>~30-80ms</td>
                                </tr>
                                <tr>
                                    <td>Throughput (single node)</td>
                                    <td class="table-success"><strong>100K+ ops/sec</strong></td>
                                    <td>50-100K ops/sec</td>
                                    <td>10-30K ops/sec</td>
                                    <td>20-50K ops/sec</td>
                                </tr>
                                <tr>
                                    <td>Horizontal Scale</td>
                                    <td class="table-success"><strong>Linear</strong></td>
                                    <td>N/A (embedded)</td>
                                    <td>Complex</td>
                                    <td>Good</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h6>Performance Tuning Tips</h6>
                        <ul>
                            <li><strong>Use <code>data-in-memory true</code></strong> for fastest reads (if RAM allows)</li>
                            <li><strong>Increase <code>max-conns-per-node</code></strong> for high-concurrency workloads</li>
                            <li><strong>Use <code>COMMIT_MASTER</code></strong> for faster writes (trade-off: slightly less durable)</li>
                            <li><strong>Enable batch operations</strong> - Kuber automatically batches where possible</li>
                        </ul>
                        
                        <!-- Section 8: Cluster Setup -->
                        <h5 class="mt-4" id="cluster-setup"><i class="fas fa-server me-2 text-secondary"></i>8. Cluster Setup</h5>
                        
                        <h6>3-Node Production Cluster</h6>
<pre class="bg-dark text-light p-3 rounded"><code># aerospike.conf on each node

service {
    cluster-name kuber-cluster
}

network {
    service {
        address any
        port 3000
    }
    heartbeat {
        mode mesh
        port 3002
        # List all cluster nodes
        mesh-seed-address-port aero1.example.com 3002
        mesh-seed-address-port aero2.example.com 3002
        mesh-seed-address-port aero3.example.com 3002
        interval 150
        timeout 10
    }
}

namespace kuber {
    replication-factor 2
    memory-size 8G
    default-ttl 0
    
    storage-engine device {
        file /opt/aerospike/data/kuber.dat
        filesize 100G
        data-in-memory true
    }
}</code></pre>
                        
                        <h6>Kuber Configuration for Cluster</h6>
<pre class="bg-dark text-light p-3 rounded"><code># application.properties
kuber.persistence.type=aerospike
kuber.persistence.aerospike.hosts=aero1.example.com:3000,aero2.example.com:3000,aero3.example.com:3000
kuber.persistence.aerospike.namespace=kuber
kuber.persistence.aerospike.commit-level=COMMIT_ALL
kuber.persistence.aerospike.max-conns-per-node=300</code></pre>
                        
                        <!-- Section 9: Monitoring -->
                        <h5 class="mt-4" id="monitoring"><i class="fas fa-chart-line me-2 text-info"></i>9. Monitoring</h5>
                        
                        <h6>Aerospike Tools</h6>
<pre class="bg-dark text-light p-3 rounded"><code># Check cluster status
asadm -e "info"

# Check namespace stats
aql -c "stat -n kuber"

# Monitor in real-time
asadm
Admin> watch 1 info

# Check specific set (region) stats
aql -c "stat -n kuber -s trades"</code></pre>
                        
                        <h6>Key Metrics to Monitor</h6>
                        <ul>
                            <li><code>objects</code> - Total records in namespace</li>
                            <li><code>memory_used_bytes</code> - RAM usage</li>
                            <li><code>device_used_bytes</code> - SSD usage</li>
                            <li><code>client_connections</code> - Active connections</li>
                            <li><code>batch_index_*</code> - Batch operation stats</li>
                        </ul>
                        
                        <!-- Section 10: Troubleshooting -->
                        <h5 class="mt-4" id="troubleshooting"><i class="fas fa-bug me-2 text-danger"></i>10. Troubleshooting</h5>
                        
                        <div class="accordion" id="troubleshootingAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#issue1">
                                        Connection refused / timeout
                                    </button>
                                </h2>
                                <div id="issue1" class="accordion-collapse collapse show" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>Verify Aerospike is running: <code>sudo systemctl status aerospike</code></li>
                                            <li>Check port 3000 is open: <code>nc -zv localhost 3000</code></li>
                                            <li>Check firewall rules</li>
                                            <li>Verify hosts configuration in Kuber matches Aerospike bind address</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue2">
                                        Namespace not found
                                    </button>
                                </h2>
                                <div id="issue2" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>Namespaces must be defined in <code>aerospike.conf</code></li>
                                            <li>Restart Aerospike after adding namespace</li>
                                            <li>Verify with: <code>aql -c "show namespaces"</code></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue3">
                                        Truncate not available (scan+delete fallback)
                                    </button>
                                </h2>
                                <div id="issue3" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <p>The <code>truncate</code> operation requires Aerospike Enterprise Edition. 
                                        Community Edition uses scan+delete (slower but functional).</p>
                                        <ul>
                                            <li>This only affects <code>deleteRegion</code> and <code>purgeRegion</code> operations</li>
                                            <li>Normal CRUD operations are unaffected</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue4">
                                        Memory exceeded
                                    </button>
                                </h2>
                                <div id="issue4" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                    <div class="accordion-body">
                                        <ul>
                                            <li>Increase <code>memory-size</code> in namespace config</li>
                                            <li>Switch to hybrid storage (data on SSD)</li>
                                            <li>Enable eviction: <code>high-water-memory-pct 80</code></li>
                                            <li>Use TTLs to expire old data</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Section 11: Best Practices -->
                        <h5 class="mt-4" id="best-practices"><i class="fas fa-star me-2 text-warning"></i>11. Best Practices</h5>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card border-success mb-3">
                                    <div class="card-header bg-success text-white">
                                        <i class="fas fa-check me-2"></i>Do
                                    </div>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">Use SSDs for storage (not HDDs)</li>
                                        <li class="list-group-item">Set <code>send-key=true</code> for scan operations</li>
                                        <li class="list-group-item">Use batch operations for bulk loads</li>
                                        <li class="list-group-item">Configure <code>replication-factor</code> ≥ 2 in production</li>
                                        <li class="list-group-item">Monitor memory usage with <code>asadm</code></li>
                                        <li class="list-group-item">Use namespace TTL as a safety net</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card border-danger mb-3">
                                    <div class="card-header bg-danger text-white">
                                        <i class="fas fa-times me-2"></i>Don't
                                    </div>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">Don't use HDDs (very slow random I/O)</li>
                                        <li class="list-group-item">Don't set <code>memory-size</code> larger than available RAM</li>
                                        <li class="list-group-item">Don't use memory-only storage in production without replication</li>
                                        <li class="list-group-item">Don't ignore "approaching high-water-mark" warnings</li>
                                        <li class="list-group-item">Don't use <code>COMMIT_MASTER</code> for critical data</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Backend Comparison -->
                        <h5 class="mt-4"><i class="fas fa-balance-scale me-2 text-secondary"></i>When to Choose Aerospike</h5>
                        
                        <table class="table table-bordered table-sm">
                            <thead class="table-dark">
                                <tr>
                                    <th>Choose Aerospike When</th>
                                    <th>Choose Another Backend When</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Sub-millisecond latency required</td>
                                    <td>Latency requirements are relaxed (use RocksDB/PostgreSQL)</td>
                                </tr>
                                <tr>
                                    <td>Horizontal scaling needed</td>
                                    <td>Single-server deployment (use RocksDB/LMDB)</td>
                                </tr>
                                <tr>
                                    <td>Native TTL important</td>
                                    <td>No TTL requirements (any backend works)</td>
                                </tr>
                                <tr>
                                    <td>High throughput (100K+ ops/sec)</td>
                                    <td>Moderate throughput (use RocksDB)</td>
                                </tr>
                                <tr>
                                    <td>Multi-datacenter replication</td>
                                    <td>Single datacenter (use any backend)</td>
                                </tr>
                                <tr>
                                    <td>Team has Aerospike expertise</td>
                                    <td>Want zero external dependencies (use RocksDB/LMDB)</td>
                                </tr>
                            </tbody>
                        </table>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer th:replace="~{layout :: footer}"></footer>

<script th:replace="~{layout :: scripts}"></script>
</body>
</html>
