<!DOCTYPE html>
<!--
  ~ Copyright Â© 2025-2030, All Rights Reserved
  ~ Ashutosh Sinha | Email: ajsinha@gmail.com
  -->
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head('Hash &amp; TTL Operations')}"></head>
<body class="d-flex flex-column min-vh-100">
<nav th:replace="~{layout :: navbar}"></nav>
<main class="flex-fill">
    <div class="container-fluid py-4">
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/help"><i class="fas fa-book me-1"></i>Help</a></li>
                <li class="breadcrumb-item active">Hash &amp; TTL Operations</li>
            </ol>
        </nav>
        <div class="row">
            <div class="col-lg-11 mx-auto">
                <h1 class="display-5 mb-4"><i class="fas fa-hashtag text-success me-3"></i>Hash Operations</h1>
                
                <p class="lead">Hash operations let you store field-value pairs within a single key. Perfect for storing objects with multiple attributes.</p>

                <!-- Command Reference Table -->
                <div class="card mb-4">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0"><i class="fas fa-list me-2"></i>Command Reference</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="table-dark">
                                    <tr><th>Command</th><th>Syntax</th><th>Description</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td><code>HSET</code></td><td><code>HSET key field value [field value ...]</code></td><td>Set one or more hash fields</td></tr>
                                    <tr><td><code>HGET</code></td><td><code>HGET key field</code></td><td>Get value of a hash field</td></tr>
                                    <tr><td><code>HMSET</code></td><td><code>HMSET key field value [field value ...]</code></td><td>Set multiple fields (deprecated, use HSET)</td></tr>
                                    <tr><td><code>HMGET</code></td><td><code>HMGET key field [field ...]</code></td><td>Get values of multiple fields</td></tr>
                                    <tr><td><code>HGETALL</code></td><td><code>HGETALL key</code></td><td>Get all fields and values</td></tr>
                                    <tr><td><code>HDEL</code></td><td><code>HDEL key field [field ...]</code></td><td>Delete one or more fields</td></tr>
                                    <tr><td><code>HEXISTS</code></td><td><code>HEXISTS key field</code></td><td>Check if field exists</td></tr>
                                    <tr><td><code>HKEYS</code></td><td><code>HKEYS key</code></td><td>Get all field names</td></tr>
                                    <tr><td><code>HVALS</code></td><td><code>HVALS key</code></td><td>Get all values</td></tr>
                                    <tr><td><code>HLEN</code></td><td><code>HLEN key</code></td><td>Get number of fields</td></tr>
                                    <tr><td><code>HINCRBY</code></td><td><code>HINCRBY key field increment</code></td><td>Increment integer field value</td></tr>
                                    <tr><td><code>HSETNX</code></td><td><code>HSETNX key field value</code></td><td>Set field only if it doesn't exist</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- HSET/HGET Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>HSET</code> / <code>HGET</code> - Set and Get Hash Fields</h5></div>
                    <div class="card-body">
                        <p>Set and get individual hash fields. HSET can set multiple fields at once.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#hset-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hset-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hset-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hset-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="hset-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Set single field
HSET user:1001 name "Alice"
# Returns: 1 (new field created)

# Set multiple fields at once
HSET user:1001 email "alice@example.com" age "30" city "NYC"
# Returns: 3 (new fields created)

# Get single field
HGET user:1001 name
# Returns: "Alice"

# Get non-existent field
HGET user:1001 phone
# Returns: (nil)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hset-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Set single field
    client.hset('user:1001', 'name', 'Alice')
    
    # Set multiple fields
    client.hset('user:1001', mapping={
        'email': 'alice@example.com',
        'age': '30',
        'city': 'NYC'
    })
    
    # Get single field
    name = client.hget('user:1001', 'name')
    print(f"Name: {name}")  # "Alice"</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hset-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Set single field
    client.hset("user:1001", "name", "Alice");
    
    // Set multiple fields
    Map&lt;String, String&gt; fields = new HashMap&lt;&gt;();
    fields.put("email", "alice@example.com");
    fields.put("age", "30");
    fields.put("city", "NYC");
    client.hset("user:1001", fields);
    
    // Get single field
    String name = client.hget("user:1001", "name");
    System.out.println("Name: " + name);  // "Alice"
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hset-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Set single field
await client.HSetAsync("user:1001", "name", "Alice");

// Set multiple fields
await client.HSetAsync("user:1001", new Dictionary&lt;string, string&gt; {
    ["email"] = "alice@example.com",
    ["age"] = "30",
    ["city"] = "NYC"
});

// Get single field
string? name = await client.HGetAsync("user:1001", "name");
Console.WriteLine($"Name: {name}");  // "Alice"</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HMGET/HGETALL Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>HMGET</code> / <code>HGETALL</code> - Get Multiple Fields</h5></div>
                    <div class="card-body">
                        <p>Get multiple fields at once or get all fields and values.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#hmget-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hmget-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hmget-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hmget-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="hmget-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Get specific fields
HMGET user:1001 name email age
# Returns: ["Alice", "alice@example.com", "30"]

# Get all fields and values
HGETALL user:1001
# Returns: {"name": "Alice", "email": "alice@example.com", "age": "30", "city": "NYC"}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hmget-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Get specific fields
    values = client.hmget('user:1001', 'name', 'email', 'age')
    print(f"Values: {values}")  # ['Alice', 'alice@example.com', '30']
    
    # Get all fields and values
    user = client.hgetall('user:1001')
    print(f"User: {user}")
    # {'name': 'Alice', 'email': 'alice@example.com', ...}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hmget-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Get specific fields
    List&lt;String&gt; values = client.hmget("user:1001", "name", "email", "age");
    System.out.println("Values: " + values);
    
    // Get all fields and values
    Map&lt;String, String&gt; user = client.hgetAll("user:1001");
    System.out.println("User: " + user);
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hmget-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Get specific fields
var values = await client.HMGetAsync("user:1001", "name", "email", "age");
Console.WriteLine($"Values: {string.Join(", ", values)}");

// Get all fields and values
var user = await client.HGetAllAsync("user:1001");
foreach (var field in user) {
    Console.WriteLine($"{field.Key}: {field.Value}");
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HDEL/HEXISTS Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>HDEL</code> / <code>HEXISTS</code> - Delete and Check Fields</h5></div>
                    <div class="card-body">
                        <p>Delete hash fields and check if fields exist.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#hdel-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hdel-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hdel-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hdel-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="hdel-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Check if field exists
HEXISTS user:1001 email
# Returns: 1 (exists)

HEXISTS user:1001 phone
# Returns: 0 (not exists)

# Delete single field
HDEL user:1001 city
# Returns: 1 (deleted)

# Delete multiple fields
HDEL user:1001 age city phone
# Returns: number of fields deleted</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hdel-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Check if field exists
    exists = client.hexists('user:1001', 'email')
    print(f"Email exists: {exists}")  # True
    
    # Delete fields
    deleted = client.hdel('user:1001', 'city')
    print(f"Deleted: {deleted}")  # 1
    
    # Delete multiple fields
    deleted = client.hdel('user:1001', 'age', 'phone')
    print(f"Deleted: {deleted}")</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hdel-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Check if field exists
    boolean exists = client.hexists("user:1001", "email");
    System.out.println("Email exists: " + exists);
    
    // Delete fields
    long deleted = client.hdel("user:1001", "city");
    System.out.println("Deleted: " + deleted);
    
    // Delete multiple fields
    deleted = client.hdel("user:1001", "age", "phone");
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hdel-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Check if field exists
bool exists = await client.HExistsAsync("user:1001", "email");
Console.WriteLine($"Email exists: {exists}");

// Delete fields
long deleted = await client.HDelAsync("user:1001", "city");
Console.WriteLine($"Deleted: {deleted}");

// Delete multiple fields
deleted = await client.HDelAsync("user:1001", "age", "phone");</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HKEYS/HVALS/HLEN Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>HKEYS</code> / <code>HVALS</code> / <code>HLEN</code> - Hash Metadata</h5></div>
                    <div class="card-body">
                        <p>Get field names, values, and count of fields in a hash.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#hkeys-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hkeys-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hkeys-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hkeys-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="hkeys-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Get all field names
HKEYS user:1001
# Returns: ["name", "email", "age", "city"]

# Get all values
HVALS user:1001
# Returns: ["Alice", "alice@example.com", "30", "NYC"]

# Get number of fields
HLEN user:1001
# Returns: 4</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hkeys-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Get all field names
    fields = client.hkeys('user:1001')
    print(f"Fields: {fields}")
    
    # Get all values
    values = client.hvals('user:1001')
    print(f"Values: {values}")
    
    # Get count
    count = client.hlen('user:1001')
    print(f"Field count: {count}")</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hkeys-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Get all field names
    Set&lt;String&gt; fields = client.hkeys("user:1001");
    System.out.println("Fields: " + fields);
    
    // Get all values
    List&lt;String&gt; values = client.hvals("user:1001");
    System.out.println("Values: " + values);
    
    // Get count
    long count = client.hlen("user:1001");
    System.out.println("Field count: " + count);
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hkeys-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Get all field names
var fields = await client.HKeysAsync("user:1001");
Console.WriteLine($"Fields: {string.Join(", ", fields)}");

// Get all values
var values = await client.HValsAsync("user:1001");
Console.WriteLine($"Values: {string.Join(", ", values)}");

// Get count
long count = await client.HLenAsync("user:1001");
Console.WriteLine($"Field count: {count}");</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HINCRBY/HSETNX Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>HINCRBY</code> / <code>HSETNX</code> - Atomic Operations</h5></div>
                    <div class="card-body">
                        <p>Increment numeric fields and set fields only if they don't exist.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#hincrby-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hincrby-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hincrby-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#hincrby-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="hincrby-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Increment numeric field
HSET stats:page views "100"
HINCRBY stats:page views 1
# Returns: 101

HINCRBY stats:page views 10
# Returns: 111

# Set field only if not exists
HSETNX user:1001 nickname "ally"
# Returns: 1 (set, field was new)

HSETNX user:1001 nickname "alice_wonder"
# Returns: 0 (not set, field exists)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hincrby-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Increment field
    client.hset('stats:page', 'views', '100')
    new_val = client.hincrby('stats:page', 'views', 1)
    print(f"Views: {new_val}")  # 101
    
    # Set only if not exists
    result = client.hsetnx('user:1001', 'nickname', 'ally')
    print(f"Set: {result}")  # True (new field)
    
    result = client.hsetnx('user:1001', 'nickname', 'alice_wonder')
    print(f"Set: {result}")  # False (already exists)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hincrby-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Increment field
    client.hset("stats:page", "views", "100");
    long newVal = client.hincrBy("stats:page", "views", 1);
    System.out.println("Views: " + newVal);  // 101
    
    // Set only if not exists
    boolean result = client.hsetnx("user:1001", "nickname", "ally");
    System.out.println("Set: " + result);  // true
    
    result = client.hsetnx("user:1001", "nickname", "alice_wonder");
    System.out.println("Set: " + result);  // false
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="hincrby-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Increment field
await client.HSetAsync("stats:page", "views", "100");
long newVal = await client.HIncrByAsync("stats:page", "views", 1);
Console.WriteLine($"Views: {newVal}");  // 101

// Set only if not exists
bool result = await client.HSetNxAsync("user:1001", "nickname", "ally");
Console.WriteLine($"Set: {result}");  // true

result = await client.HSetNxAsync("user:1001", "nickname", "alice_wonder");
Console.WriteLine($"Set: {result}");  // false</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-success">
                    <i class="fas fa-lightbulb me-2"></i>
                    <strong>Use Case:</strong> Hashes are ideal for storing objects like user profiles, product details, or session data where you need to access individual fields without loading the entire object.
                </div>

                <!-- TTL Operations Section -->
                <hr class="my-5">
                <h1 id="ttl-ops" class="display-5 mb-4"><i class="fas fa-clock text-info me-3"></i>TTL Operations</h1>
                <p class="lead">TTL (Time-To-Live) operations let you set automatic expiration on keys. Perfect for sessions, caches, and temporary data.</p>

                <!-- Command Reference Table -->
                <div class="card mb-4">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="fas fa-list me-2"></i>Command Reference</h5>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead class="table-dark">
                                    <tr><th>Command</th><th>Syntax</th><th>Description</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td><code>TTL</code></td><td><code>TTL key</code></td><td>Get remaining TTL in seconds (-1 if no expiry, -2 if not exists)</td></tr>
                                    <tr><td><code>PTTL</code></td><td><code>PTTL key</code></td><td>Get remaining TTL in milliseconds</td></tr>
                                    <tr><td><code>EXPIRE</code></td><td><code>EXPIRE key seconds</code></td><td>Set expiration in seconds from now</td></tr>
                                    <tr><td><code>PEXPIRE</code></td><td><code>PEXPIRE key milliseconds</code></td><td>Set expiration in milliseconds from now</td></tr>
                                    <tr><td><code>EXPIREAT</code></td><td><code>EXPIREAT key timestamp</code></td><td>Set expiration as Unix timestamp (seconds)</td></tr>
                                    <tr><td><code>PEXPIREAT</code></td><td><code>PEXPIREAT key timestamp</code></td><td>Set expiration as Unix timestamp (milliseconds)</td></tr>
                                    <tr><td><code>PERSIST</code></td><td><code>PERSIST key</code></td><td>Remove expiration, make key persist forever</td></tr>
                                    <tr><td><code>SETEX</code></td><td><code>SETEX key seconds value</code></td><td>Set value with TTL (atomic)</td></tr>
                                    <tr><td><code>PSETEX</code></td><td><code>PSETEX key milliseconds value</code></td><td>Set value with TTL in milliseconds</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- TTL/PTTL Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>TTL</code> / <code>PTTL</code> - Get Remaining Time</h5></div>
                    <div class="card-body">
                        <p>Get the remaining time-to-live for a key. Returns -1 if no expiry, -2 if key doesn't exist.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#ttl-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#ttl-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#ttl-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#ttl-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="ttl-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Set key with 1 hour TTL
SETEX session:token 3600 "abc123"

# Get TTL in seconds
TTL session:token
# Returns: 3600 (or less)

# Get TTL in milliseconds
PTTL session:token
# Returns: 3600000 (or less)

# Key without expiry
SET permanent "data"
TTL permanent
# Returns: -1 (no expiry)

# Non-existent key
TTL nonexistent
# Returns: -2</code></pre>
                            </div>
                            <div class="tab-pane fade" id="ttl-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Set with TTL
    client.setex('session:token', 3600, 'abc123')
    
    # Get TTL in seconds
    ttl = client.ttl('session:token')
    print(f"TTL: {ttl} seconds")  # ~3600
    
    # Get TTL in milliseconds
    pttl = client.pttl('session:token')
    print(f"PTTL: {pttl} ms")  # ~3600000
    
    # Check if key has no expiry
    client.set('permanent', 'data')
    ttl = client.ttl('permanent')
    print(f"TTL: {ttl}")  # -1 (no expiry)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="ttl-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Set with TTL
    client.setex("session:token", 3600, "abc123");
    
    // Get TTL in seconds
    long ttl = client.ttl("session:token");
    System.out.println("TTL: " + ttl + " seconds");
    
    // Get TTL in milliseconds
    long pttl = client.pttl("session:token");
    System.out.println("PTTL: " + pttl + " ms");
    
    // Key without expiry returns -1
    client.set("permanent", "data");
    System.out.println("TTL: " + client.ttl("permanent"));  // -1
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="ttl-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Set with TTL
await client.SetExAsync("session:token", 3600, "abc123");

// Get TTL in seconds
long ttl = await client.TtlAsync("session:token");
Console.WriteLine($"TTL: {ttl} seconds");

// Get TTL in milliseconds
long pttl = await client.PTtlAsync("session:token");
Console.WriteLine($"PTTL: {pttl} ms");

// Key without expiry returns -1
await client.SetAsync("permanent", "data");
Console.WriteLine($"TTL: {await client.TtlAsync("permanent")}");  // -1</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- EXPIRE/PEXPIRE Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>EXPIRE</code> / <code>PEXPIRE</code> - Set Expiration</h5></div>
                    <div class="card-body">
                        <p>Set a timeout on key. After the timeout, the key is automatically deleted.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#expire-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#expire-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#expire-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#expire-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="expire-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Create key
SET mykey "Hello"

# Set to expire in 60 seconds
EXPIRE mykey 60
# Returns: 1 (success)

# Set to expire in 5000 milliseconds
PEXPIRE mykey 5000

# Verify
TTL mykey
# Returns: remaining seconds</code></pre>
                            </div>
                            <div class="tab-pane fade" id="expire-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    client.set('mykey', 'Hello')
    
    # Expire in 60 seconds
    client.expire('mykey', 60)
    
    # Expire in 5000 milliseconds
    client.pexpire('mykey', 5000)
    
    # Verify
    print(f"TTL: {client.ttl('mykey')} seconds")</code></pre>
                            </div>
                            <div class="tab-pane fade" id="expire-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    client.set("mykey", "Hello");
    
    // Expire in 60 seconds
    client.expire("mykey", 60);
    
    // Or use Duration
    client.expire("mykey", Duration.ofMinutes(1));
    
    // Expire in 5000 milliseconds
    client.pexpire("mykey", 5000);
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="expire-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");
await client.SetAsync("mykey", "Hello");

// Expire in 60 seconds
await client.ExpireAsync("mykey", 60);

// Or use TimeSpan
await client.ExpireAsync("mykey", TimeSpan.FromMinutes(1));

// Expire in 5000 milliseconds
await client.PExpireAsync("mykey", 5000);</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- EXPIREAT Command -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>EXPIREAT</code> / <code>PEXPIREAT</code> - Set Absolute Expiration</h5></div>
                    <div class="card-body">
                        <p>Set expiration as an absolute Unix timestamp. Useful for scheduling expiration at a specific time.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#expireat-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#expireat-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#expireat-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#expireat-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="expireat-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Set key
SET mykey "Hello"

# Expire at specific Unix timestamp (seconds)
EXPIREAT mykey 1735689600
# Expires at Jan 1, 2025 00:00:00 UTC

# Expire at specific timestamp (milliseconds)
PEXPIREAT mykey 1735689600000</code></pre>
                            </div>
                            <div class="tab-pane fade" id="expireat-python">
<pre class="bg-dark text-light p-3 rounded"><code>import time
from datetime import datetime

with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    client.set('mykey', 'Hello')
    
    # Expire at midnight tonight
    midnight = datetime.now().replace(hour=23, minute=59, second=59)
    timestamp = int(midnight.timestamp())
    client.expireat('mykey', timestamp)
    
    # Or expire in 1 hour from now
    expire_time = int(time.time()) + 3600
    client.expireat('mykey', expire_time)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="expireat-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    client.set("mykey", "Hello");
    
    // Expire at specific time
    Instant expireTime = Instant.now().plus(Duration.ofHours(1));
    client.expireAt("mykey", expireTime.getEpochSecond());
    
    // Expire at midnight
    LocalDateTime midnight = LocalDate.now().plusDays(1).atStartOfDay();
    long timestamp = midnight.toEpochSecond(ZoneOffset.UTC);
    client.expireAt("mykey", timestamp);
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="expireat-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");
await client.SetAsync("mykey", "Hello");

// Expire at specific time
var expireTime = DateTimeOffset.UtcNow.AddHours(1);
await client.ExpireAtAsync("mykey", expireTime.ToUnixTimeSeconds());

// Expire at midnight
var midnight = DateTime.Today.AddDays(1);
var timestamp = new DateTimeOffset(midnight).ToUnixTimeSeconds();
await client.ExpireAtAsync("mykey", timestamp);</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- PERSIST Command -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>PERSIST</code> - Remove Expiration</h5></div>
                    <div class="card-body">
                        <p>Remove the expiration from a key, making it persist indefinitely.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#persist-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#persist-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#persist-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#persist-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="persist-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Set key with TTL
SETEX mykey 3600 "temporary"

# Check TTL
TTL mykey
# Returns: ~3600

# Remove expiration
PERSIST mykey
# Returns: 1 (success)

# Verify - now persistent
TTL mykey
# Returns: -1 (no expiry)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="persist-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Set with TTL
    client.setex('mykey', 3600, 'temporary')
    print(f"TTL before: {client.ttl('mykey')}")  # ~3600
    
    # Remove expiration
    client.persist('mykey')
    print(f"TTL after: {client.ttl('mykey')}")  # -1</code></pre>
                            </div>
                            <div class="tab-pane fade" id="persist-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Set with TTL
    client.setex("mykey", 3600, "temporary");
    System.out.println("TTL before: " + client.ttl("mykey"));
    
    // Remove expiration
    client.persist("mykey");
    System.out.println("TTL after: " + client.ttl("mykey"));  // -1
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="persist-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Set with TTL
await client.SetExAsync("mykey", 3600, "temporary");
Console.WriteLine($"TTL before: {await client.TtlAsync("mykey")}");

// Remove expiration
await client.PersistAsync("mykey");
Console.WriteLine($"TTL after: {await client.TtlAsync("mykey")}");  // -1</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SETEX/PSETEX Commands -->
                <div class="card mb-4">
                    <div class="card-header"><h5 class="mb-0"><code>SETEX</code> / <code>PSETEX</code> - Atomic Set with TTL</h5></div>
                    <div class="card-body">
                        <p>Set value and expiration atomically. Equivalent to SET + EXPIRE but in one command.</p>
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#setex-redis">Redis CLI</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#setex-python">Python</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#setex-java">Java</a></li>
                            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#setex-csharp">C#</a></li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="setex-redis">
<pre class="bg-dark text-light p-3 rounded"><code># Set with TTL in seconds
SETEX session:abc 3600 "user_data"

# Set with TTL in milliseconds
PSETEX cache:item 60000 "cached_value"

# Equivalent to:
# SET key value
# EXPIRE key seconds
# But atomic!</code></pre>
                            </div>
                            <div class="tab-pane fade" id="setex-python">
<pre class="bg-dark text-light p-3 rounded"><code>with KuberRedisClient('localhost', 6380, api_key='kub_xxx') as client:
    # Set with TTL (seconds)
    client.setex('session:abc', 3600, 'user_data')
    
    # Set with TTL (milliseconds)
    client.psetex('cache:item', 60000, 'cached_value')
    
    # Or use set() with ttl parameter
    client.set('session:xyz', 'data', ttl=3600)</code></pre>
                            </div>
                            <div class="tab-pane fade" id="setex-java">
<pre class="bg-dark text-light p-3 rounded"><code>try (KuberClient client = new KuberClient("localhost", 6380, "kub_xxx")) {
    // Set with TTL (seconds)
    client.setex("session:abc", 3600, "user_data");
    
    // Set with TTL (milliseconds)
    client.psetex("cache:item", 60000, "cached_value");
    
    // Or use set() with Duration
    client.set("session:xyz", "data", Duration.ofHours(1));
}</code></pre>
                            </div>
                            <div class="tab-pane fade" id="setex-csharp">
<pre class="bg-dark text-light p-3 rounded"><code>using var client = new KuberClient("localhost", 6380, "kub_xxx");

// Set with TTL (seconds)
await client.SetExAsync("session:abc", 3600, "user_data");

// Set with TTL (milliseconds)
await client.PSetExAsync("cache:item", 60000, "cached_value");

// Or use SetAsync with TimeSpan
await client.SetAsync("session:xyz", "data", TimeSpan.FromHours(1));</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-info">
                    <i class="fas fa-lightbulb me-2"></i>
                    <strong>Best Practice:</strong> Use SETEX/PSETEX when setting a value with TTL. It's atomic and more efficient than SET followed by EXPIRE.
                </div>


                <div class="mt-5 text-center">
                    <a href="/help" class="btn btn-outline-primary">Help Index</a>
                </div>
            </div>
        </div>
        <footer class="py-4 mt-5 border-top">
            <div class="row">
                <div class="col-md-6"><h6><i class="fas fa-database me-2"></i><span th:text="${appName} ?: 'Kuber'">Kuber</span></h6><p class="text-muted small mb-0">Version 2.6.3</p></div>
                <div class="col-md-6 text-end"><p class="text-muted small mb-0">Copyright &copy; <span th:text="${appCopyright} ?: '2025-2030'">2025-2030</span> <span th:text="${appAuthor} ?: 'Ashutosh Sinha'">Ashutosh Sinha</span></p></div>
            </div>
        </footer>
    </div>
</main>
<footer th:replace="~{layout :: footer}"></footer>
<th:block th:replace="~{layout :: scripts}"></th:block>
</body>
</html>
