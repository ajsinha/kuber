<!DOCTYPE html>
<!--
  ~ Copyright Â© 2025-2030, All Rights Reserved
  ~ Ashutosh Sinha | Email: ajsinha@gmail.com
  ~ Patent Pending
  -->
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head('Application Properties')}"></head>
<body class="d-flex flex-column min-vh-100">

<nav th:replace="~{layout :: navbar}"></nav>

<main class="flex-fill">
    <div class="container-fluid py-4">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/help"><i class="fas fa-book me-1"></i>Help</a></li>
                <li class="breadcrumb-item active" aria-current="page">Application Properties</li>
            </ol>
        </nav>

        <!-- Content -->
        <div class="row">
            <div class="col-lg-11 mx-auto">
                <h1 class="display-5 mb-4"><i class="fas fa-cogs me-3 text-secondary"></i>Application Properties</h1>
                
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    Configure <span th:text="${appName} ?: 'Kuber'">Kuber</span> via <code>application.properties</code> or environment variables.
                    Environment variables use uppercase with underscores (e.g., <code>KUBER_CACHE_MAX_MEMORY_ENTRIES</code>).
                </div>

                <!-- Table of Contents -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-list me-2"></i>Categories</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <ul class="list-unstyled mb-0">
                                    <li><a href="#core">Core Settings</a></li>
                                    <li><a href="#network">Network</a></li>
                                    <li><a href="#cache">Cache</a></li>
                                    <li><a href="#persistence">Persistence</a></li>
                                </ul>
                            </div>
                            <div class="col-md-4">
                                <ul class="list-unstyled mb-0">
                                    <li><a href="#security">Security</a></li>
                                    <li><a href="#autoload">Autoload</a></li>
                                    <li><a href="#backup">Backup/Restore</a></li>
                                    <li><a href="#shutdown">Shutdown</a></li>
                                </ul>
                            </div>
                            <div class="col-md-4">
                                <ul class="list-unstyled mb-0">
                                    <li><a href="#memory">Memory Management</a></li>
                                    <li><a href="#replication">Replication</a></li>
                                    <li><a href="#publishing">Event Publishing</a></li>
                                    <li><a href="#messaging">Request/Response Messaging</a> <span class="badge bg-success">v2.2.0</span></li>
                                    <li><a href="#logging">Logging</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Core Settings -->
                <section id="core" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-home me-2"></i>Core Settings</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.version</code></td><td>2.2.0</td><td>Current application version (read-only)</td></tr>
                                <tr><td><code>kuber.base.datadir</code></td><td>./kuberdata</td><td>Base directory for all data files (persistence, autoload, backup, logs)</td></tr>
                                <tr><td><code>kuber.secure.folder</code></td><td>config/secure</td><td>Directory for sensitive files (users.json, apikeys.json). Auto-created if missing.</td></tr>
                                <tr><td><code>server.app.name</code></td><td>Kuber</td><td>Application display name shown in UI</td></tr>
                                <tr><td><code>server.port</code></td><td>8080</td><td>HTTP REST API and Web UI port</td></tr>
                                <tr><td><code>server.servlet.session.timeout</code></td><td>30m</td><td>Web session timeout duration</td></tr>
                                <tr><td><code>server.shutdown</code></td><td>graceful</td><td>Shutdown mode (graceful waits for active requests)</td></tr>
                                <tr><td><code>spring.lifecycle.timeout-per-shutdown-phase</code></td><td>30s</td><td>Maximum time to wait during each shutdown phase</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Network -->
                <section id="network" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-network-wired me-2"></i>Network (Redis Protocol)</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.network.port</code></td><td>6380</td><td>Redis protocol port for client connections</td></tr>
                                <tr><td><code>kuber.network.bind-address</code></td><td>0.0.0.0</td><td>IP address to bind to (0.0.0.0 = all interfaces)</td></tr>
                                <tr><td><code>kuber.network.max-connections</code></td><td>10000</td><td>Maximum concurrent client connections</td></tr>
                                <tr><td><code>kuber.network.connection-timeout-ms</code></td><td>30000</td><td>Connection establishment timeout (milliseconds)</td></tr>
                                <tr><td><code>kuber.network.read-timeout-ms</code></td><td>30000</td><td>Socket read timeout (milliseconds)</td></tr>
                                <tr><td><code>kuber.network.decoder-max-line-length</code></td><td>1048576</td><td>Maximum command line length (1MB)</td></tr>
                                <tr><td><code>kuber.network.read-buffer-size</code></td><td>2048</td><td>Socket read buffer size (bytes)</td></tr>
                                <tr><td><code>kuber.network.write-buffer-size</code></td><td>2048</td><td>Socket write buffer size (bytes)</td></tr>
                                <tr><td><code>kuber.network.io-processor-count</code></td><td>0</td><td>I/O processor threads (0 = auto-detect CPU cores)</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Cache -->
                <section id="cache" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-memory me-2"></i>Cache Configuration</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.cache.max-memory-entries</code></td><td>100000</td><td>Maximum entries to keep in memory per region</td></tr>
                                <tr><td><code>kuber.cache.max-key-length-bytes</code></td><td>256</td><td>Maximum allowed key length in bytes. Keys exceeding this are rejected with error logged.</td></tr>
                                <tr><td><code>kuber.cache.persistent-mode</code></td><td>false</td><td>Sync mode: true=sync writes to disk, false=async writes</td></tr>
                                <tr><td><code>kuber.cache.persistence-batch-size</code></td><td>100</td><td>Number of entries per async persistence batch</td></tr>
                                <tr><td><code>kuber.cache.persistence-interval-ms</code></td><td>1000</td><td>Interval between async persistence flushes</td></tr>
                                <tr><td><code>kuber.cache.default-ttl-seconds</code></td><td>-1</td><td>Default TTL for entries (-1 = no expiration)</td></tr>
                                <tr><td><code>kuber.cache.eviction-policy</code></td><td>LRU</td><td>Eviction policy: LRU, LFU, FIFO</td></tr>
                                <tr><td><code>kuber.cache.ttl-cleanup-interval-seconds</code></td><td>60</td><td>How often to scan for expired entries</td></tr>
                                <tr><td><code>kuber.cache.enable-statistics</code></td><td>true</td><td>Enable cache hit/miss statistics</td></tr>
                                <tr><td><code>kuber.cache.off-heap-key-index</code></td><td>false</td><td>Store key index in off-heap memory (reduces GC)</td></tr>
                                <tr><td><code>kuber.cache.off-heap-key-index-initial-size-mb</code></td><td>16</td><td>Initial off-heap buffer size per region</td></tr>
                                <tr><td><code>kuber.cache.off-heap-key-index-max-size-mb</code></td><td>8192</td><td>Maximum off-heap buffer size per region</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Persistence -->
                <section id="persistence" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-database me-2"></i>Persistence</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.persistence.type</code></td><td>lmdb</td><td>Backend: lmdb (default), rocksdb, mongodb, sqlite, postgresql, memory</td></tr>
                                <tr><td><code>kuber.persistence.sync-individual-writes</code></td><td>false</td><td>Wait for disk sync on each write (slower but durable)</td></tr>
                                <tr class="table-secondary"><td colspan="3"><strong>RocksDB Settings</strong></td></tr>
                                <tr><td><code>kuber.persistence.rocksdb.path</code></td><td>${kuber.base.datadir}/data/rocksdb</td><td>RocksDB data directory</td></tr>
                                <tr><td><code>kuber.persistence.rocksdb.compaction-enabled</code></td><td>true</td><td>Enable scheduled compaction to reclaim space</td></tr>
                                <tr><td><code>kuber.persistence.rocksdb.compaction-cron</code></td><td>0 0 2 * * ?</td><td>Compaction schedule (default: 2 AM daily)</td></tr>
                                <tr class="table-secondary"><td colspan="3"><strong>LMDB Settings (Default Persistence)</strong></td></tr>
                                <tr><td><code>kuber.persistence.lmdb.path</code></td><td>${kuber.base.datadir}/data/lmdb</td><td>LMDB data directory</td></tr>
                                <tr><td><code>kuber.persistence.lmdb.map-size</code></td><td>1099511627776</td><td>Max DB size in bytes (default: 1TB). Virtual address space only - actual file grows on demand. Safe to set large on 64-bit.</td></tr>
                                <tr class="table-info"><td colspan="3"><i class="fas fa-info-circle me-2"></i><strong>LMDB Disk Usage:</strong> The map-size is virtual address space. A 512GB map-size with 1GB data uses ~1GB disk. Safe to set large values on 64-bit systems.</td></tr>
                                <tr class="table-warning"><td colspan="3"><i class="fas fa-exclamation-triangle me-2"></i><strong>LMDB JVM Requirement:</strong> Add <code>--add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED</code> when running on Java 9+</td></tr>
                                <tr class="table-secondary"><td colspan="3"><strong>MongoDB Settings</strong></td></tr>
                                <tr><td><code>kuber.mongo.uri</code></td><td>mongodb://localhost:27017</td><td>MongoDB connection URI</td></tr>
                                <tr><td><code>kuber.mongo.database</code></td><td>kuber</td><td>MongoDB database name</td></tr>
                                <tr><td><code>kuber.mongo.connection-pool-size</code></td><td>50</td><td>Connection pool size</td></tr>
                                <tr class="table-secondary"><td colspan="3"><strong>SQLite Settings</strong></td></tr>
                                <tr><td><code>kuber.persistence.sqlite.path</code></td><td>${kuber.base.datadir}/data/kuber.db</td><td>SQLite database file path</td></tr>
                                <tr class="table-secondary"><td colspan="3"><strong>PostgreSQL Settings</strong></td></tr>
                                <tr><td><code>kuber.persistence.postgresql.url</code></td><td>jdbc:postgresql://localhost:5432/kuber</td><td>JDBC connection URL</td></tr>
                                <tr><td><code>kuber.persistence.postgresql.username</code></td><td>kuber</td><td>Database username</td></tr>
                                <tr><td><code>kuber.persistence.postgresql.password</code></td><td>kuber</td><td>Database password</td></tr>
                                <tr><td><code>kuber.persistence.postgresql.pool-size</code></td><td>10</td><td>Connection pool size</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Security -->
                <section id="security" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-shield-alt me-2"></i>Security</h3>
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>v2.1.0:</strong> API Keys required for all programmatic access. Username/password only for Web UI.
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.secure.folder</code></td><td>config/secure</td><td>Directory for security config files</td></tr>
                                <tr><td><code>kuber.security.users-file</code></td><td>${kuber.secure.folder}/users.json</td><td>User credentials file (auto-created with admin user if missing)</td></tr>
                                <tr><td><code>kuber.security.roles-file</code></td><td>${kuber.secure.folder}/roles.json</td><td>Role definitions file (auto-created with admin role if missing) <span class="badge bg-danger">v2.2.0</span></td></tr>
                                <tr><td><code>kuber.security.api-keys-file</code></td><td>${kuber.secure.folder}/apikeys.json</td><td>API keys file (created automatically if missing)</td></tr>
                                <tr><td><code>kuber.security.rbac-enabled</code></td><td>true</td><td>Enable RBAC authorization enforcement <span class="badge bg-danger">v2.2.0</span></td></tr>
                                <tr><td><code>kuber.security.auto-create-region-roles</code></td><td>true</td><td>Auto-create roles when new regions are created <span class="badge bg-danger">v2.2.0</span></td></tr>
                                <tr><td><code>kuber.security.session-timeout-minutes</code></td><td>30</td><td>Web UI session timeout</td></tr>
                                <tr><td><code>kuber.security.redis-password</code></td><td>(empty)</td><td><em>Deprecated</em> - Use API keys instead</td></tr>
                            </tbody>
                        </table>
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-shield-alt me-2"></i>
                            <strong>v2.2.0 RBAC:</strong> Security files are automatically reloaded when changed. 
                            Changes to <code>users.json</code> OR <code>roles.json</code> trigger reload of BOTH files.
                            See <a href="/help/security">Security &amp; RBAC</a> for complete documentation.
                        </div>
                    </div>
                </section>

                <!-- Autoload -->
                <section id="autoload" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-upload me-2"></i>Autoload</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.autoload.enabled</code></td><td>true</td><td>Enable automatic loading from inbox folder</td></tr>
                                <tr><td><code>kuber.autoload.directory</code></td><td>${kuber.base.datadir}/autoload</td><td>Directory to watch for CSV/JSON files</td></tr>
                                <tr><td><code>kuber.autoload.scan-interval-seconds</code></td><td>60</td><td>How often to scan for new files</td></tr>
                                <tr><td><code>kuber.autoload.max-records-per-file</code></td><td>0</td><td>Max records per file (0 = unlimited)</td></tr>
                                <tr><td><code>kuber.autoload.batch-size</code></td><td>32768</td><td>Records per persistence batch</td></tr>
                                <tr><td><code>kuber.autoload.warm-percentage</code></td><td>10</td><td>% of data to pre-warm into memory after load</td></tr>
                                <tr><td><code>kuber.autoload.create-directories</code></td><td>true</td><td>Create inbox/processed/error directories</td></tr>
                                <tr><td><code>kuber.autoload.file-encoding</code></td><td>UTF-8</td><td>File character encoding</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Backup -->
                <section id="backup" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-archive me-2"></i>Backup &amp; Restore</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.backup.enabled</code></td><td>true</td><td>Enable scheduled backups</td></tr>
                                <tr><td><code>kuber.backup.backup-directory</code></td><td>${kuber.base.datadir}/backup</td><td>Directory for backup files</td></tr>
                                <tr><td><code>kuber.backup.restore-directory</code></td><td>${kuber.base.datadir}/restore</td><td>Directory to monitor for restore files</td></tr>
                                <tr><td><code>kuber.backup.cron</code></td><td>0 0 23 * * *</td><td>Backup schedule (default: 11 PM daily)</td></tr>
                                <tr><td><code>kuber.backup.max-backups-per-region</code></td><td>10</td><td>Backups to retain per region (0 = unlimited)</td></tr>
                                <tr><td><code>kuber.backup.batch-size</code></td><td>10000</td><td>Entries per batch during backup/restore</td></tr>
                                <tr><td><code>kuber.backup.compress</code></td><td>true</td><td>Compress backup files (gzip)</td></tr>
                                <tr><td><code>kuber.backup.create-directories</code></td><td>true</td><td>Create backup/restore directories</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Shutdown -->
                <section id="shutdown" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-power-off me-2"></i>Graceful Shutdown</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.shutdown.file-enabled</code></td><td>true</td><td>Enable file-based shutdown (touch kuber.shutdown)</td></tr>
                                <tr><td><code>kuber.shutdown.file-path</code></td><td>${kuber.base.datadir}/kuber.shutdown</td><td>Shutdown signal file path</td></tr>
                                <tr><td><code>kuber.shutdown.check-interval-ms</code></td><td>5000</td><td>How often to check for shutdown file</td></tr>
                                <tr><td><code>kuber.shutdown.api-enabled</code></td><td>true</td><td>Enable REST API shutdown endpoint</td></tr>
                                <tr><td><code>kuber.shutdown.phase-delay-seconds</code></td><td>5</td><td>Delay between shutdown phases</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Memory Management -->
                <section id="memory" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-microchip me-2"></i>Memory Management</h3>
                    
                    <h5 class="mt-3">Memory Pressure Eviction</h5>
                    <p class="text-muted">Reactive eviction when JVM heap is constrained.</p>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.cache.memory-watcher-enabled</code></td><td>true</td><td>Enable automatic memory pressure handling</td></tr>
                                <tr><td><code>kuber.cache.memory-high-watermark-percent</code></td><td>85</td><td>Start evicting when heap exceeds this %</td></tr>
                                <tr><td><code>kuber.cache.memory-low-watermark-percent</code></td><td>50</td><td>Stop evicting when heap drops below this %</td></tr>
                                <tr><td><code>kuber.cache.memory-eviction-batch-size</code></td><td>1000</td><td>Entries to evict per batch</td></tr>
                                <tr><td><code>kuber.cache.memory-watcher-interval-ms</code></td><td>5000</td><td>Memory check interval</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h5 class="mt-4"><span class="badge bg-success">New in v2.2.0</span> Count-Based Value Cache Limiting</h5>
                    <p class="text-muted">Proactive eviction to limit values in memory per region. The effective limit is the <strong>LOWER</strong> of percentage-based or absolute limit.</p>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.cache.value-cache-limit-enabled</code></td><td>true</td><td>Enable count-based value cache limiting</td></tr>
                                <tr><td><code>kuber.cache.value-cache-max-percent</code></td><td>20</td><td>Max % of keys to keep values in memory</td></tr>
                                <tr><td><code>kuber.cache.value-cache-max-entries</code></td><td>10000</td><td>Max values per region in memory</td></tr>
                                <tr><td><code>kuber.cache.value-cache-limit-check-interval-ms</code></td><td>30000</td><td>Interval between limit checks</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="alert alert-info mt-3">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Example:</strong> With 100,000 keys, 20% limit = 20,000 max, but if max-entries = 10,000, effective limit is <strong>10,000</strong> (lower wins).
                    </div>
                </section>

                <!-- Replication -->
                <section id="replication" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-sync me-2"></i>Replication (ZooKeeper)</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.zookeeper.enabled</code></td><td>false</td><td>Enable ZooKeeper-based replication</td></tr>
                                <tr><td><code>kuber.zookeeper.connect-string</code></td><td>localhost:2181</td><td>ZooKeeper connection string</td></tr>
                                <tr><td><code>kuber.zookeeper.session-timeout-ms</code></td><td>30000</td><td>ZK session timeout</td></tr>
                                <tr><td><code>kuber.zookeeper.connection-timeout-ms</code></td><td>10000</td><td>ZK connection timeout</td></tr>
                                <tr><td><code>kuber.zookeeper.base-path</code></td><td>/kuber</td><td>ZK base path for Kuber nodes</td></tr>
                                <tr><td><code>kuber.replication.sync-batch-size</code></td><td>1000</td><td>Entries per sync batch</td></tr>
                                <tr><td><code>kuber.replication.sync-timeout-ms</code></td><td>30000</td><td>Sync operation timeout</td></tr>
                                <tr><td><code>kuber.replication.heartbeat-interval-ms</code></td><td>5000</td><td>Heartbeat interval between nodes</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Event Publishing -->
                <section id="publishing" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-broadcast-tower me-2"></i>Event Publishing</h3>
                    <p>Kuber can publish cache events to Kafka, RabbitMQ, ActiveMQ, IBM MQ, or files.</p>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>kuber.publishing.thread-pool-size</code></td><td>4</td><td>Publisher thread pool size</td></tr>
                                <tr><td><code>kuber.publishing.queue-capacity</code></td><td>10000</td><td>Event queue capacity</td></tr>
                                <tr><td><code>kuber.publishing.broker-config-file</code></td><td>config/message_brokers.json</td><td>External JSON file for broker definitions with SSL/TLS (v2.2.0)</td></tr>
                                <tr><td><code>kuber.publishing.region-config-file</code></td><td>config/event_publishing.json</td><td>External JSON file for region-to-broker mappings (v2.2.0)</td></tr>
                                <tr class="table-secondary"><td colspan="3"><strong>Request/Response Messaging</strong></td></tr>
                                <tr><td><code>kuber.messaging.request-response-config-file</code></td><td>config/request_response.json</td><td>External JSON file for messaging broker config (v2.2.0)</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Request/Response Messaging -->
                <section id="messaging" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-exchange-alt me-2"></i>Request/Response Messaging <span class="badge bg-success">v2.2.0</span></h3>
                    <p>Access cache operations via message brokers. Configuration is managed via JSON file, not application.properties.</p>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        <strong>Configuration Location:</strong> Messaging configuration is in 
                        <code>config/request_response.json</code> (override via <code>kuber.messaging.request-response-config-file</code>). 
                        Use the <a href="/admin/messaging">Admin UI</a> or REST API to manage at runtime.
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Configuration Method</th><th>Location</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><strong>JSON Config</strong></td><td><code>request_response.json</code></td><td>Full configuration including brokers, topics, backpressure settings</td></tr>
                                <tr><td><strong>Admin UI</strong></td><td><code>/admin/messaging</code></td><td>Enable/disable service and individual brokers</td></tr>
                                <tr><td><strong>REST API</strong></td><td><code>/api/v1/messaging/*</code></td><td>Programmatic control of service and brokers</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Logging -->
                <section id="logging" class="mb-5">
                    <h3 class="border-bottom pb-2"><i class="fas fa-file-alt me-2"></i>Logging</h3>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr><th>Property</th><th>Default</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><code>logging.level.root</code></td><td>INFO</td><td>Root logging level</td></tr>
                                <tr><td><code>logging.level.com.kuber</code></td><td>DEBUG</td><td>Kuber application logging level</td></tr>
                                <tr><td><code>logging.level.org.apache.mina</code></td><td>WARN</td><td>MINA networking logging level</td></tr>
                                <tr><td><code>logging.level.org.springframework.security</code></td><td>WARN</td><td>Spring Security logging level</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Back to Help -->
                <div class="mt-5 text-center">
                    <a href="/help" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-left me-2"></i>Back to Help Index
                    </a>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="py-4 mt-5 border-top">
            <div class="row">
                <div class="col-md-6">
                    <h6><i class="fas fa-database me-2"></i><span th:text="${appName} ?: 'Kuber'">Kuber</span> Distributed Cache</h6>
                    <p class="text-muted small mb-0">Version 2.3.0</p>
                </div>
                <div class="col-md-6 text-end">
                    <p class="text-muted small mb-0">
                        Copyright &copy; 2025-2030, All Rights Reserved<br>
                        Ashutosh Sinha | <a href="mailto:ajsinha@gmail.com">ajsinha@gmail.com</a><br>
                        <span class="badge bg-warning text-dark">Patent Pending</span>
                    </p>
                </div>
            </div>
        </footer>
    </div>
</main>

<th:block th:replace="~{layout :: scripts}"></th:block>

</body>
</html>
